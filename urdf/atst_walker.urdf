<?xml version="1.0" encoding="UTF-8"?>
<!--
AT-ST Walker URDF for Isaac Sim
Based on Star Wars AT-ST specifications
-->
<robot name="atst_walker">

  <!-- ============================================================ -->
  <!-- Materials -->
  <!-- ============================================================ -->
  <material name="gray">
    <color rgba="0.5 0.5 0.5 1"/>
  </material>
  <material name="dark_gray">
    <color rgba="0.3 0.3 0.3 1"/>
  </material>

  <!-- ============================================================ -->
  <!-- Body (Base Link) -->
  <!-- ============================================================ -->
  <link name="body">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <box size="2.0 1.5 1.5"/>
      </geometry>
      <material name="gray"/>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <box size="2.0 1.5 1.5"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="4000"/>
      <inertia ixx="1500" ixy="0" ixz="0" iyy="2000" iyz="0" izz="1500"/>
    </inertial>
  </link>

  <!-- ============================================================ -->
  <!-- Head/Cockpit -->
  <!-- ============================================================ -->
  <link name="head">
    <visual>
      <origin xyz="0 0 0.5" rpy="0 0 0"/>
      <geometry>
        <box size="2.5 2.0 1.5"/>
      </geometry>
      <material name="gray"/>
    </visual>
    <collision>
      <origin xyz="0 0 0.5" rpy="0 0 0"/>
      <geometry>
        <box size="2.5 2.0 1.5"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0.5" rpy="0 0 0"/>
      <mass value="1500"/>
      <inertia ixx="800" ixy="0" ixz="0" iyy="1000" iyz="0" izz="800"/>
    </inertial>
  </link>

  <joint name="head_joint" type="fixed">
    <parent link="body"/>
    <child link="head"/>
    <origin xyz="0 0 0.75" rpy="0 0 0"/>
  </joint>

  <!-- ============================================================ -->
  <!-- LEFT LEG -->
  <!-- ============================================================ -->

  <!-- Left Hip -->
  <link name="hip_L">
    <visual>
      <origin xyz="0 0 -0.3" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.3" length="0.6"/>
      </geometry>
      <material name="dark_gray"/>
    </visual>
    <collision>
      <origin xyz="0 0 -0.3" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.3" length="0.6"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 -0.3" rpy="0 0 0"/>
      <mass value="500"/>
      <inertia ixx="50" ixy="0" ixz="0" iyy="50" iyz="0" izz="30"/>
    </inertial>
  </link>

  <joint name="hip_yaw_L" type="revolute">
    <parent link="body"/>
    <child link="hip_L"/>
    <origin xyz="0 0.8 -0.5" rpy="0 0 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-0.5" upper="0.5" effort="500000" velocity="2.0"/>
    <dynamics damping="10000" friction="1000"/>
  </joint>

  <!-- Left Thigh -->
  <link name="thigh_L">
    <visual>
      <origin xyz="0 0 -1.0" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.25" length="2.0"/>
      </geometry>
      <material name="gray"/>
    </visual>
    <collision>
      <origin xyz="0 0 -1.0" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.25" length="2.0"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 -1.0" rpy="0 0 0"/>
      <mass value="800"/>
      <inertia ixx="300" ixy="0" ixz="0" iyy="300" iyz="0" izz="30"/>
    </inertial>
  </link>

  <joint name="hip_pitch_L" type="revolute">
    <parent link="hip_L"/>
    <child link="thigh_L"/>
    <origin xyz="0 0 -0.6" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-1.0" upper="0.5" effort="800000" velocity="2.0"/>
    <dynamics damping="20000" friction="2000"/>
  </joint>

  <!-- Left Shin -->
  <link name="shin_L">
    <visual>
      <origin xyz="0 0 -1.0" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.2" length="2.0"/>
      </geometry>
      <material name="dark_gray"/>
    </visual>
    <collision>
      <origin xyz="0 0 -1.0" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.2" length="2.0"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 -1.0" rpy="0 0 0"/>
      <mass value="600"/>
      <inertia ixx="220" ixy="0" ixz="0" iyy="220" iyz="0" izz="20"/>
    </inertial>
  </link>

  <joint name="knee_L" type="revolute">
    <parent link="thigh_L"/>
    <child link="shin_L"/>
    <origin xyz="0 0 -2.0" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-0.2" upper="1.57" effort="600000" velocity="2.0"/>
    <dynamics damping="15000" friction="1500"/>
  </joint>

  <!-- Left Ankle -->
  <link name="ankle_L">
    <visual>
      <origin xyz="0 0 -0.15" rpy="0 0 0"/>
      <geometry>
        <sphere radius="0.2"/>
      </geometry>
      <material name="dark_gray"/>
    </visual>
    <collision>
      <origin xyz="0 0 -0.15" rpy="0 0 0"/>
      <geometry>
        <sphere radius="0.2"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 -0.15" rpy="0 0 0"/>
      <mass value="200"/>
      <inertia ixx="10" ixy="0" ixz="0" iyy="10" iyz="0" izz="10"/>
    </inertial>
  </link>

  <joint name="ankle_L" type="revolute">
    <parent link="shin_L"/>
    <child link="ankle_L"/>
    <origin xyz="0 0 -2.0" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-0.5" upper="0.5" effort="400000" velocity="2.0"/>
    <dynamics damping="8000" friction="800"/>
  </joint>

  <!-- Left Foot -->
  <link name="foot_L">
    <visual>
      <origin xyz="0.3 0 -0.05" rpy="0 0 0"/>
      <geometry>
        <box size="1.0 0.6 0.1"/>
      </geometry>
      <material name="dark_gray"/>
    </visual>
    <collision>
      <origin xyz="0.3 0 -0.05" rpy="0 0 0"/>
      <geometry>
        <box size="1.0 0.6 0.1"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0.3 0 -0.05" rpy="0 0 0"/>
      <mass value="500"/>
      <inertia ixx="20" ixy="0" ixz="0" iyy="50" iyz="0" izz="50"/>
    </inertial>
  </link>

  <joint name="foot_L" type="revolute">
    <parent link="ankle_L"/>
    <child link="foot_L"/>
    <origin xyz="0 0 -0.3" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-0.35" upper="0.35" effort="200000" velocity="2.0"/>
    <dynamics damping="5000" friction="500"/>
  </joint>

  <!-- ============================================================ -->
  <!-- RIGHT LEG -->
  <!-- ============================================================ -->

  <!-- Right Hip -->
  <link name="hip_R">
    <visual>
      <origin xyz="0 0 -0.3" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.3" length="0.6"/>
      </geometry>
      <material name="dark_gray"/>
    </visual>
    <collision>
      <origin xyz="0 0 -0.3" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.3" length="0.6"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 -0.3" rpy="0 0 0"/>
      <mass value="500"/>
      <inertia ixx="50" ixy="0" ixz="0" iyy="50" iyz="0" izz="30"/>
    </inertial>
  </link>

  <joint name="hip_yaw_R" type="revolute">
    <parent link="body"/>
    <child link="hip_R"/>
    <origin xyz="0 -0.8 -0.5" rpy="0 0 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-0.5" upper="0.5" effort="500000" velocity="2.0"/>
    <dynamics damping="10000" friction="1000"/>
  </joint>

  <!-- Right Thigh -->
  <link name="thigh_R">
    <visual>
      <origin xyz="0 0 -1.0" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.25" length="2.0"/>
      </geometry>
      <material name="gray"/>
    </visual>
    <collision>
      <origin xyz="0 0 -1.0" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.25" length="2.0"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 -1.0" rpy="0 0 0"/>
      <mass value="800"/>
      <inertia ixx="300" ixy="0" ixz="0" iyy="300" iyz="0" izz="30"/>
    </inertial>
  </link>

  <joint name="hip_pitch_R" type="revolute">
    <parent link="hip_R"/>
    <child link="thigh_R"/>
    <origin xyz="0 0 -0.6" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-1.0" upper="0.5" effort="800000" velocity="2.0"/>
    <dynamics damping="20000" friction="2000"/>
  </joint>

  <!-- Right Shin -->
  <link name="shin_R">
    <visual>
      <origin xyz="0 0 -1.0" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.2" length="2.0"/>
      </geometry>
      <material name="dark_gray"/>
    </visual>
    <collision>
      <origin xyz="0 0 -1.0" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.2" length="2.0"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 -1.0" rpy="0 0 0"/>
      <mass value="600"/>
      <inertia ixx="220" ixy="0" ixz="0" iyy="220" iyz="0" izz="20"/>
    </inertial>
  </link>

  <joint name="knee_R" type="revolute">
    <parent link="thigh_R"/>
    <child link="shin_R"/>
    <origin xyz="0 0 -2.0" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-0.2" upper="1.57" effort="600000" velocity="2.0"/>
    <dynamics damping="15000" friction="1500"/>
  </joint>

  <!-- Right Ankle -->
  <link name="ankle_R">
    <visual>
      <origin xyz="0 0 -0.15" rpy="0 0 0"/>
      <geometry>
        <sphere radius="0.2"/>
      </geometry>
      <material name="dark_gray"/>
    </visual>
    <collision>
      <origin xyz="0 0 -0.15" rpy="0 0 0"/>
      <geometry>
        <sphere radius="0.2"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 -0.15" rpy="0 0 0"/>
      <mass value="200"/>
      <inertia ixx="10" ixy="0" ixz="0" iyy="10" iyz="0" izz="10"/>
    </inertial>
  </link>

  <joint name="ankle_R" type="revolute">
    <parent link="shin_R"/>
    <child link="ankle_R"/>
    <origin xyz="0 0 -2.0" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-0.5" upper="0.5" effort="400000" velocity="2.0"/>
    <dynamics damping="8000" friction="800"/>
  </joint>

  <!-- Right Foot -->
  <link name="foot_R">
    <visual>
      <origin xyz="0.3 0 -0.05" rpy="0 0 0"/>
      <geometry>
        <box size="1.0 0.6 0.1"/>
      </geometry>
      <material name="dark_gray"/>
    </visual>
    <collision>
      <origin xyz="0.3 0 -0.05" rpy="0 0 0"/>
      <geometry>
        <box size="1.0 0.6 0.1"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0.3 0 -0.05" rpy="0 0 0"/>
      <mass value="500"/>
      <inertia ixx="20" ixy="0" ixz="0" iyy="50" iyz="0" izz="50"/>
    </inertial>
  </link>

  <joint name="foot_R" type="revolute">
    <parent link="ankle_R"/>
    <child link="foot_R"/>
    <origin xyz="0 0 -0.3" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-0.35" upper="0.35" effort="200000" velocity="2.0"/>
    <dynamics damping="5000" friction="500"/>
  </joint>

</robot>
